<!-- templates/view_data.html -->
{% extends 'base.html' %}
{% load static %}
{% block content %}
{% if messages %}
<div class="messages">
    {% for message in messages %}
        <div class="message {{ message.tags }}">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}
<div class="container">
    <h1>Data for File: {{ file.file_id }}</h1>
    <p>Uploaded on: {{ file.upload_date }}</p>

     <!-- Direct download link to the uploaded file -->
      <div class="d-flex mb-2">
        <div class="ms-auto">
            <a href="{{ file.file.url }}" class="btn btn-success" download>Download Original File</a>

        </div>
      </div>
    <table>
        <thead>
            <tr>
                <th>Sno</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Gender</th>
                <th>Date of Birth</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in data %}
            <tr>
                <td>{{ entry.sno }}</td>
                <td>{{ entry.first_name }}</td>
                <td>{{ entry.last_name }}</td>
                <td>{{ entry.gender }}</td>
                <td>{{ entry.date_of_birth }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

